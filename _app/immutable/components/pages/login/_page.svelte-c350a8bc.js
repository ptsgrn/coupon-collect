import{S as Z,i as $,s as ee,a as k,k as h,q as B,L as ue,h as E,c as q,l as _,m as A,r as C,n as a,b as L,E as o,M as g,K as R,C as G,N as te,I as Q,u as se,J as ae}from"../../../chunks/index-eacc430f.js";import{a as W,u as re}from"../../../chunks/data-f893b158.js";import{g as X}from"../../../chunks/navigation-8d6a4421.js";function Y(i){let r,s;return{c(){r=h("div"),s=B(i[1]),this.h()},l(t){r=_(t,"DIV",{class:!0,role:!0});var n=A(r);s=C(n,i[1]),n.forEach(E),this.h()},h(){a(r,"class","alert alert-danger"),a(r,"role","alert")},m(t,n){L(t,r,n),o(r,s)},p(t,n){n&2&&se(s,t[1])},d(t){t&&E(r)}}}function le(i){let r,s,t,n,u,m,I,f,N,p,b,d,S,P,D,M,T,v,O,y,x,F,U,l=i[1]&&Y(i);return{c(){r=k(),s=h("h1"),t=B("เข้าสู่ระบบ"),n=k(),u=h("form"),m=h("label"),I=B(`ชื่อผู้ใช้
		`),f=h("input"),N=k(),p=h("label"),b=B(`รหัสผ่าน
		`),d=h("input"),S=k(),l&&l.c(),P=k(),D=h("button"),M=B("เข้าสู่ระบบ"),T=k(),v=h("p"),O=B("ยังไม่มีบัญชีผู้ใช้? "),y=h("a"),x=B("ลงทะเบียน"),this.h()},l(e){ue("svelte-19egfd5",document.head).forEach(E),r=q(e),s=_(e,"H1",{class:!0});var V=A(s);t=C(V,"เข้าสู่ระบบ"),V.forEach(E),n=q(e),u=_(e,"FORM",{class:!0});var w=A(u);m=_(w,"LABEL",{for:!0});var H=A(m);I=C(H,`ชื่อผู้ใช้
		`),f=_(H,"INPUT",{type:!0,placeholder:!0,name:!0,autocomplete:!0}),H.forEach(E),N=q(w),p=_(w,"LABEL",{for:!0});var J=A(p);b=C(J,`รหัสผ่าน
		`),d=_(J,"INPUT",{type:!0,placeholder:!0,name:!0,autocomplete:!0}),J.forEach(E),S=q(w),l&&l.l(w),P=q(w),D=_(w,"BUTTON",{type:!0,class:!0});var j=A(D);M=C(j,"เข้าสู่ระบบ"),j.forEach(E),w.forEach(E),T=q(e),v=_(e,"P",{class:!0});var K=A(v);O=C(K,"ยังไม่มีบัญชีผู้ใช้? "),y=_(K,"A",{href:!0,class:!0});var z=A(y);x=C(z,"ลงทะเบียน"),z.forEach(E),K.forEach(E),this.h()},h(){document.title="เข้าสู่ระบบ",a(s,"class","text-3xl font-bold text-transparent from-blue-600 to-pink-600 bg-gradient-to-r bg-clip-text font-sans"),a(f,"type","text"),a(f,"placeholder","ชื่อผู้ใช้"),a(f,"name","username"),a(f,"autocomplete","username"),f.required=!0,a(m,"for","username"),a(d,"type","password"),a(d,"placeholder","รหัสผ่าน"),a(d,"name","password"),a(d,"autocomplete","current-password"),d.required=!0,a(p,"for","password"),a(D,"type","submit"),a(D,"class","bg-blue-600 text-white rounded-md p-2"),a(u,"class","flex flex-col gap-4"),a(y,"href","/register"),a(y,"class","text-blue-600"),a(v,"class","text-center mt-4")},m(e,c){L(e,r,c),L(e,s,c),o(s,t),L(e,n,c),L(e,u,c),o(u,m),o(m,I),o(m,f),g(f,i[0].username),o(u,N),o(u,p),o(p,b),o(p,d),g(d,i[0].password),o(u,S),l&&l.m(u,null),o(u,P),o(u,D),o(D,M),L(e,T,c),L(e,v,c),o(v,O),o(v,y),o(y,x),F||(U=[R(f,"input",i[3]),R(d,"input",i[4]),R(u,"submit",i[2])],F=!0)},p(e,[c]){c&1&&f.value!==e[0].username&&g(f,e[0].username),c&1&&d.value!==e[0].password&&g(d,e[0].password),e[1]?l?l.p(e,c):(l=Y(e),l.c(),l.m(u,P)):l&&(l.d(1),l=null)},i:G,o:G,d(e){e&&E(r),e&&E(s),e&&E(n),e&&E(u),l&&l.d(),e&&E(T),e&&E(v),F=!1,te(U)}}}function oe(i,r,s){let t,n;Q(i,W,p=>s(5,t=p)),Q(i,re,p=>s(6,n=p));let u={username:"",password:""};t!=null&&t.username&&X("/view");let m="";async function I(p){if(p.preventDefault(),s(1,m=""),!n.find(b=>b.username===u.username)){s(1,m="ชื่อผู้ใช้นี้ไม่มีในระบบ กรุณาลงทะเบียนก่อน");return}ae(W,t=n.find(b=>b.username===u.username&&b.password===u.password)||{},t),t!=null&&t.username?X("/view"):s(1,m="ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง")}function f(){u.username=this.value,s(0,u)}function N(){u.password=this.value,s(0,u)}return[u,m,I,f,N]}class fe extends Z{constructor(r){super(),$(this,r,oe,le,ee,{})}}export{fe as default};
